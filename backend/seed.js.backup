const mongoose = require('mongoose');
require('dotenv').config();
const Destination = require('./models/Destination');

const sampleDestinations = [
  {
    name: 'Bali',
    country: 'Indonesia',
    city: 'Denpasar',
    description: 'Pulau surga dengan pantai menakjubkan, pura-pura indah, dan budaya yang kaya. Sempurna untuk relaksasi dan petualangan.',
    category: 'Pantai',
    price: {
      currency: 'IDR',
      min: 500000,
      max: 5000000
    },
    images: [
      {
        filename: 'bali-1.jpg',
        path: 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&q=80' // Uluwatu Temple
      },
      {
        filename: 'bali-2.jpg',
        path: 'https://images.unsplash.com/photo-1555400038-63f5ba517a47?w=800&q=80' // Rice Terrace
      },
      {
        filename: 'bali-3.jpg',
        path: 'https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?w=800&q=80' // Bali Beach
      }
    ],
    tags: ['pantai', 'budaya', 'surfing', 'pura'],
    averageRating: 4.8,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Raja Ampat',
    country: 'Indonesia',
    city: 'Papua Barat',
    description: 'Surga bawah laut dengan keanekaragaman hayati tertinggi di dunia. Destinasi diving kelas dunia dengan pemandangan pulau karst yang memukau.',
    category: 'Pantai',
    price: {
      currency: 'IDR',
      min: 5000000,
      max: 20000000
    },
    images: [
      {
        filename: 'raja-ampat-1.jpg',
        path: 'https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?w=800&q=80' // Raja Ampat Islands
      },
      {
        filename: 'raja-ampat-2.jpg',
        path: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&q=80' // Crystal Waters
      },
      {
        filename: 'raja-ampat-3.jpg',
        path: 'https://images.unsplash.com/photo-1551244072-5d12893278ab?w=800&q=80' // Karst Islands
      }
    ],
    tags: ['diving', 'snorkeling', 'pulau', 'alam'],
    averageRating: 5.0,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Gunung Bromo',
    country: 'Indonesia',
    city: 'Probolinggo',
    description: 'Gunung berapi aktif dengan pemandangan matahari terbit yang spektakuler dan lautan pasir yang eksotis. Pengalaman hiking yang tak terlupakan.',
    category: 'Gunung',
    price: {
      currency: 'IDR',
      min: 300000,
      max: 2000000
    },
    images: [
      {
        filename: 'bromo-1.jpg',
        path: 'https://images.unsplash.com/photo-1605640840605-14ac1855827b?w=800&q=80' // Bromo Sunrise
      },
      {
        filename: 'bromo-2.jpg',
        path: 'https://images.unsplash.com/photo-1589889615542-b0c2153c57f7?w=800&q=80' // Bromo Crater
      },
      {
        filename: 'bromo-3.jpg',
        path: 'https://images.unsplash.com/photo-1617469767053-d3b523a0b982?w=800&q=80' // Sea of Sand
      }
    ],
    tags: ['hiking', 'sunrise', 'volcano', 'nature'],
    averageRating: 4.7,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Yogyakarta',
    country: 'Indonesia',
    city: 'Yogyakarta',
    description: 'Kota budaya dengan Candi Borobudur dan Prambanan yang megah, Keraton Yogyakarta, serta kuliner tradisional khas yang lezat.',
    category: 'Sejarah',
    price: {
      currency: 'IDR',
      min: 200000,
      max: 1500000
    },
    images: [
      {
        filename: 'yogyakarta-1.jpg',
        path: 'https://images.unsplash.com/photo-1591382386627-349b692688ff?w=800&q=80' // Borobudur
      },
      {
        filename: 'yogyakarta-2.jpg',
        path: 'https://images.unsplash.com/photo-1548016979-69eb552f29e4?w=800&q=80' // Prambanan
      },
      {
        filename: 'yogyakarta-3.jpg',
        path: 'https://images.unsplash.com/photo-1552550049-db097c9480d1?w=800&q=80' // Yogya Culture
      }
    ],
    tags: ['candi', 'budaya', 'sejarah', 'kuliner'],
    averageRating: 4.8,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Komodo Island',
    country: 'Indonesia',
    city: 'Labuan Bajo',
    description: 'Habitat asli komodo dragon dengan Pantai Pink yang memukau dan spot diving yang indah. Petualangan wildlife yang unik.',
    category: 'Petualangan',
    price: {
      currency: 'IDR',
      min: 3000000,
      max: 10000000
    },
    images: [
      {
        filename: 'komodo-1.jpg',
        path: 'https://images.unsplash.com/photo-1552309631-0801a6c4e42f?w=800&q=80' // Komodo Island View
      },
      {
        filename: 'komodo-2.jpg',
        path: 'https://images.unsplash.com/photo-1570168007204-dfb528c6958f?w=800&q=80' // Pink Beach
      },
      {
        filename: 'komodo-3.jpg',
        path: 'https://images.unsplash.com/photo-1601024445121-e5b82f020549?w=800&q=80' // Padar Island
      }
    ],
    tags: ['komodo', 'adventure', 'beach', 'diving'],
    averageRating: 4.9,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Lombok',
    country: 'Indonesia',
    city: 'Mataram',
    description: 'Pulau eksotis dengan Gunung Rinjani, pantai-pantai indah, dan air terjun tersembunyi. Alternatif yang lebih tenang dari Bali.',
    category: 'Pantai',
    price: {
      currency: 'IDR',
      min: 400000,
      max: 4000000
    },
    images: [
      {
        filename: 'lombok-1.jpg',
        path: 'https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?w=800&q=80' // Lombok Beach
      },
      {
        filename: 'lombok-2.jpg',
        path: 'https://images.unsplash.com/photo-1573790387438-4da905039392?w=800&q=80' // Senggigi
      },
      {
        filename: 'lombok-3.jpg',
        path: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&q=80' // Gili Islands
      }
    ],
    tags: ['pantai', 'gunung', 'air terjun', 'surfing'],
    averageRating: 4.6,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Danau Toba',
    country: 'Indonesia',
    city: 'Sumatera Utara',
    description: 'Danau vulkanik terbesar di Asia Tenggara dengan Pulau Samosir di tengahnya. Budaya Batak yang kaya dan pemandangan alam yang menawan.',
    category: 'Lainnya',
    price: {
      currency: 'IDR',
      min: 300000,
      max: 2500000
    },
    images: [
      {
        filename: 'toba-1.jpg',
        path: 'https://images.unsplash.com/photo-1598971639058-fab3c3109a00?w=800&q=80' // Lake Toba Aerial
      },
      {
        filename: 'toba-2.jpg',
        path: 'https://images.unsplash.com/photo-1587474260584-136574528ed5?w=800&q=80' // Samosir Island
      },
      {
        filename: 'toba-3.jpg',
        path: 'https://images.unsplash.com/photo-1566232392379-afd9298e6a46?w=800&q=80' // Traditional Batak House
      }
    ],
    tags: ['danau', 'budaya', 'alam', 'relaksasi'],
    averageRating: 4.5,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Bandung',
    country: 'Indonesia',
    city: 'Bandung',
    description: 'Kota kembang dengan udara sejuk, factory outlets, kuliner enak, dan kawah vulkanik yang menakjubkan seperti Tangkuban Perahu.',
    category: 'Kota',
    price: {
      currency: 'IDR',
      min: 250000,
      max: 2000000
    },
    images: [
      {
        filename: 'bandung-1.jpg',
        path: 'https://images.unsplash.com/photo-1606220838315-056192d5e927?w=800&q=80' // Bandung City
      },
      {
        filename: 'bandung-2.jpg',
        path: 'https://images.unsplash.com/photo-1629716924112-4c2f47799e8d?w=800&q=80' // Tea Plantation
      },
      {
        filename: 'bandung-3.jpg',
        path: 'https://images.unsplash.com/photo-1533130061792-64b345e4a833?w=800&q=80' // Tangkuban Perahu
      }
    ],
    tags: ['shopping', 'kuliner', 'kawah', 'kota'],
    averageRating: 4.4,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Malang',
    country: 'Indonesia',
    city: 'Malang',
    description: 'Kota sejuk dengan arsitektur kolonial, pantai-pantai selatan yang indah, dan gunung-gunung yang cocok untuk hiking.',
    category: 'Kota',
    price: {
      currency: 'IDR',
      min: 200000,
      max: 1800000
    },
    images: [
      {
        filename: 'malang-1.jpg',
        path: 'https://images.unsplash.com/photo-1580538872769-d82c8b3d6c6b?w=800&q=80' // Malang City
      },
      {
        filename: 'malang-2.jpg',
        path: 'https://images.unsplash.com/photo-1578644147691-3d25c62d8b96?w=800&q=80' // Colonial Building
      },
      {
        filename: 'malang-3.jpg',
        path: 'https://images.unsplash.com/photo-1551244072-5d12893278ab?w=800&q=80' // South Beach
      }
    ],
    tags: ['kota', 'pantai', 'gunung', 'sejarah'],
    averageRating: 4.5,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Belitung',
    country: 'Indonesia',
    city: 'Tanjung Pandan',
    description: 'Pulau dengan batu granit raksasa, pantai pasir putih, dan air laut jernih. Terkenal dari film Laskar Pelangi.',
    category: 'Pantai',
    price: {
      currency: 'IDR',
      min: 2000000,
      max: 7000000
    },
    images: [
      {
        filename: 'belitung-1.jpg',
        path: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80' // Granite Rocks
      },
      {
        filename: 'belitung-2.jpg',
        path: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&q=80' // Crystal Beach
      },
      {
        filename: 'belitung-3.jpg',
        path: 'https://images.unsplash.com/photo-1540206395-68808572332f?w=800&q=80' // Island Hopping
      }
    ],
    tags: ['pantai', 'pulau', 'island hopping', 'snorkeling'],
    averageRating: 4.7,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Wakatobi',
    country: 'Indonesia',
    city: 'Sulawesi Tenggara',
    description: 'Taman Nasional bawah laut dengan terumbu karang terbaik di dunia. Surga bagi penyelam dengan visibility air yang sempurna.',
    category: 'Pantai',
    price: {
      currency: 'IDR',
      min: 6000000,
      max: 15000000
    },
    images: [
      {
        filename: 'wakatobi-1.jpg',
        path: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&q=80' // Underwater Scene
      },
      {
        filename: 'wakatobi-2.jpg',
        path: 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=800&q=80' // Coral Reef
      },
      {
        filename: 'wakatobi-3.jpg',
        path: 'https://images.unsplash.com/photo-1546484396-fb3fc6f95f98?w=800&q=80' // Marine Life
      }
    ],
    tags: ['diving', 'snorkeling', 'underwater', 'coral'],
    averageRating: 5.0,
    totalReviews: 0,
    reviews: [],
    isActive: true
  },
  {
    name: 'Bunaken',
    country: 'Indonesia',
    city: 'Manado',
    description: 'Taman Nasional laut dengan dinding karang vertikal yang spektakuler. Biodiversitas laut yang luar biasa kaya.',
    category: 'Pantai',
    price: {
      currency: 'IDR',
      min: 2500000,
      max: 8000000
    },
    images: [
      {
        filename: 'bunaken-1.jpg',
        path: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&q=80' // Diving Paradise
      },
      {
        filename: 'bunaken-2.jpg',
        path: 'https://images.unsplash.com/photo-1583212292454-1fe6229603b7?w=800&q=80' // Wall Diving
      },
      {
        filename: 'bunaken-3.jpg',
        path: 'https://images.unsplash.com/photo-1546484396-fb3fc6f95f98?w=800&q=80' // Tropical Fish
      }
    ],
    tags: ['diving', 'marine park', 'underwater', 'nature'],
    averageRating: 4.8,
    totalReviews: 0,
    reviews: [],
    isActive: true
  }
];

async function seedDatabase() {
  try {
    console.log('üîå Connecting to MongoDB...');
    console.log('üìç MONGO_URI:', process.env.MONGO_URI);
    
    await mongoose.connect(process.env.MONGO_URI);
    console.log('‚úÖ Connected to MongoDB');

    // Clear existing
    const deleteResult = await Destination.deleteMany({});
    console.log(`üóëÔ∏è  Cleared ${deleteResult.deletedCount} existing destinations`);

    // Insert new
    const insertResult = await Destination.insertMany(sampleDestinations);
    console.log(`‚úÖ Successfully seeded ${insertResult.length} destinations`);
    
    // Verify
    const count = await Destination.countDocuments();
    console.log(`üîç Verification: ${count} destinations in database`);
    
    // Show examples
    const examples = await Destination.find().limit(3);
    console.log('\nüìÑ Sample destinations:');
    examples.forEach(dest => {
      console.log(`   - ${dest.name} (${dest.category}) - ${dest.country}`);
    });

    process.exit(0);
  } catch (error) {
    console.error('‚ùå Error seeding database:', error);
    process.exit(1);
  }
}

seedDatabase();